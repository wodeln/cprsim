<table class="table table-striped table-bordered table-hover">
    <thead>
    <tr>
        <th><input type="checkbox" id="check_all"></th>
        <th>姓名</th>
        <th>身份证</th>
        <th>性别</th>
        <th>单位</th>
        <th>学历</th>
        <th>邮箱</th>
        <th>家庭住址</th>
        <th>电话</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    @for(list in page_info.list){
    <tr>
        <td><input type="checkbox" class="i-checks" name="input[]" value="${list.userId}"></td>
        <td>${list.userTrueName}</td>
        <td>${list.userCardNo}</td>
        <td>@if(list.userSex){
            男
            @}else{
            女
            @}
        </td>
        <td>${list.userCompany}</td>
        <td>${list.userDegree}</td>
        <td>${list.userEmail}</td>
        <td>${list.userHomeAddress}</td>
        <td>${list.userPhone}</td>

        <td>
            @if(so.hasPermission('STUDENT_EDIT')){
            <a href="${ctxPath}/exam/student_edit.html?studentId=${list.userId}&examId=${examId}"><i class="glyphicon glyphicon-pencil"></i></a>
            @}

        </td>
    </tr>
    @}
    </tbody>
</table>
<div class="col-sm-8 pull-right text-right">${pages}</div>
<script>
    $(".pagination  a").click(function(){
        var page = this.attributes["data-p"].nodeValue;
        ajax_get_table('search-form',page);
    });

    $("#check_all").click(function () {
        if($('#check_all').is(':checked')) {
            $(".i-checks").prop("checked", "checked");
            // $(".i-checks").
        }else {
            $(".i-checks").removeAttr("checked");
        }
    });

    $(".i-checks").click(function () {
        if($("input[class='i-checks']:checked").length<10){
            $("#check_all").prop("checked", false);
        }else {
            $("#check_all").prop("checked", true);
        }
    });
</script>